 <meta charset="utf-8">
 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
 <script type="text/javascript" src="timeformat.js"></script>
 <div id="d">ddd</div>
 <input type="button" id="dr" value="stop">

 <script type="text/javascript">
    var option={
            format: "yy-mm-dd h-m-s w",
            morning: "上午",
            weizhi:"hou",
            afterNoon: "下午"
    }
    $("div").timer(option);
   
    
    Date.prototype.format = function(format){
    var o = {
        "M+": this.getMonth() + 1, //month
        "d+": this.getDate(), //day
        "h+": this.getHours(), //hour
        "m+": this.getMinutes(), //minute
        "s+": this.getSeconds(), //second
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度
        "w+": this.getDay() //week
        //"S": this.getMilliseconds() //millisecond
    }
    if (/(y+)/.test(format)) {
        format = format.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    }
    for (var k in o) {

        if (new RegExp("(" + k + ")").test(format)) {
            if(k==='w+'){
                format = format.replace(RegExp.$1, '周'+o[k]);
            }else{
                format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ("00" + o[k]).substr(("" + o[k]).length));
            }
        }
    }
    return format;
}

var t=new Date();
var k=function(){
    console.log(new Date().format("yyyy/MM/dd hh:mm:ss"))
    return new Date().format("yyyy/MM/dd hh:mm:ss");
}
var time=setInterval(function(){k()},1000)
console.log(t.format("yyyy/MM/dd hh:mm:ss q w"))
$('#dr').click(function(){
    clearInterval(time)
})
 </script>
