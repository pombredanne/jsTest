<script>
    //http://www.w3school.com.cn/js/jsref_obj_string.asp
    var str="hello world";
    console.log(str.length);            //11   长度
    console.log(str.charAt(2));         //l  取出固定位置的字符
    console.log(str.charCodeAt(1));     //101 取出字符的编码
    String.fromCharCode('108','111','118','101');  // 同上相反  直接使用 Number字符也可
    /*******************字符串拼接******************************/
    console.log(str.concat("wo shi pin jie"));//拼接字符串  一般使用 +  
    console.log(str+"dddddd")
       
    /*******************字符串RUD操作**************************/
    /*
        字符串截取：
        
        1-3：从第一个字符开始数3个字符 并从3+1开始截取并返回  都输出"lo world"
        
        4-5：从开头数3 然后再从开头数7 7-3=4 从 3+1开始数4个字符 输出'lo w'
        
        6：从开头数3 然后再从3+1开始数7 并返回从3+1开始到3+7    输出:'lo worl'
        
        7-12：特殊(负数)截取
    */
    console.log(str.slice(3));
    console.log(str.substring(3));
    console.log(str.substr(3));

    console.log(str.slice(3,7));
    console.log(str.substring(3,7));
    console.log(str.substr(3,7));

    console.log(str.slice(-3));             //"rld"  从后面开始数三个并返回
    console.log(str.substring(-3));         //"hello world"   substring()无负数 因此str.substring(-3)==str.substring(0)=="hello world"
    console.log(str.substr(-3));            //"rld"  从后面开始数三个并返回
    console.log(str.slice(3,-4));           //"lo w"  str.slice(3,-4)==str.slice(3,7)==lo w
    console.log(str.substring(3,-4));       //"hel"  substring无负数 str.substring(3,-4)==str.substring(0,3)！==str.substring(3)==str.substr(0,3)==hel
    console.log(str.substr(3,-4));          //""  substr()会将第二个负参数设为0 str.substr(3,-4)==str.substr(3,0)

    console.log(str.indexOf("0"));          //4  从开头找第一次出现"o"的位置
    console.log(str.lastIndexOf("0"));      //7  从开头找最后一次出现"o"的位置
    console.log(str.indexOf("0",6));        //7  从【第6个开始往后找第一次出现"o"的位置距离首字母的位置 
    console.log(str.lastIndexOf("0",6));    //4  从【第6个里面】开始找最后一次出现"o"的位置距离首字母的位置 

    //一般来说 在不知道代码将会在那个地区展示 还是使用 locale
    console.log(str.toLocaleUpperCase());           //HELLO WORLD
    console.log(str.toLocaleLowerCase());           //hello world
    console.log(str.toUpperCase());                 //HELLO WORLD
    console.log(str.toLowerCase());                 //hello world

    /****************uri字符串操作*********************/
    var uri="http://www.google.com.cn/JdHome/ char='ddd'"
    console.log(encodeURI(uri));                                 //只将空格处理   decodeURI(uri)  反义解码
    console.log(encodeURIComponent(uri));                        // 特殊字符全部处理   decodeURIComponent(uri)  反义解码

    // 解析url ？参数函数
    function getQuery(name,url){
            url=url||location.href;
            var reg = new RegExp("(^|&|\\?)"+ name +"=([^&]*)(&|$)"), 
                r;
            if (r=url.match(reg)){
                return unescape(r[2]);
            }
            return null;
    }

    function getAllQuery(uri){
        var items=(uri||location.search).substring(1).split('&'),
            args={},
            item=null,name=null,value=null;
        for(var i=0;i<items.length;i++){
            item=items[i].split("=");
            name=decodeURIComponent(item[0]);
            value=decodeURIComponent(item[1]);
            args[name]=value;
        }
        return args;
    }

    // url To link http://www.zhihu.com/question/20339078
    //var reg = new RegExp('(http:|https:)//[w-]*(.[w-]*)+', 'gi');                                    //原始正则
    //var reg = /(http|https):\/\/[\w-]*(\.[\w-]*)+(:[0-9]{1,4})?/ig;                                  // 增加ip地址的链接
    var reg = /(ftp|http|https):\/\/[\w-]*(\.[\w-]*)+(:[0-9]{1,4})?(\/|[a-z]|.htm)*/ig;                // 目前匹配最完美的
    var teststr = '将一个用户输入的一段文字中的url替换成可以点击的link地址。测试一下：http://www.sharejs.com紧接着中文，还有http://www.sharejs.com is very good!https://sharejs.com!最后在看看带.cn的：http://www.sina.com.cn呵呵。http://www.sina.com.cn/abc.html http://192.168.1.92:9998/static/js/demo/new.html'; 
    function testUriToLink(reg,str){
          return str.replace(reg,function(uri){
                      return '<a href="'+uri+'">'+uri+'</a>';
                 });
    }

    // 验证uri正则
    var uriReg = "^((https|http|ftp|rtsp|mms)?://)" +
            "?(([0-9a-z_!~*'().&=+$%-]+: )?[0-9a-z_!~*'().&=+$%-]+@)?" //ftp的user@
     +
            "(([0-9]{1,3}.){3}[0-9]{1,3}" // IP形式的URL- 199.194.52.184
     +
            "|" // 允许IP和DOMAIN（域名）
     +
            "([0-9a-z_!~*'()-]+.)*" // 域名- www.
     +
            "([0-9a-z][0-9a-z-]{0,61})?[0-9a-z]." // 二级域名
     +
            "[a-z]{2,6})" // first level domain- .com or .museum
     +
            "(:[0-9]{1,4})?" // 端口- :80
     +
            "((/?)|" // a slash isn't required if there is no file name
     +
            "(/[0-9a-z_!~*'().;?:@&=+$,%#-]+)+/?)$";
</script>
