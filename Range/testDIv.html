<meta charset='UTF-8'>
<script type="text/javascript">
    function test(obj) {
       if (typeof obj == 'string') obj = document.getElementById(obj);
        obj.focus();
        if (obj.createTextRange) {//ie
            var rtextRange = obj.createTextRange();
            rtextRange.moveStart('character', obj.value.length);
            rtextRange.collapse(true);
            rtextRange.select();
        }else if (obj.selectionStart){//chrome "<input>"、"<textarea>"
            obj.selectionStart = obj.value.length;
        }else if(window.getSelection){
            var sel = window.getSelection();            
            var tempRange = document.createRange();
            //tempRange.setStart(obj.firstChild, obj.firstChild.length);  //TODO更改  
            //document.getElementById('txt1').childNodes[document.getElementById('txt1').childNodes.length-2]
            tempRange.setStart(obj.lastChild, obj.lastChild.length);   //如果你的页面上有第二个 sel 并且作用是插入节点 那么这里一定要注意 因为找不到obj.lastChild.length 所以会发生 插入后跟这个其冲突
            sel.removeAllRanges();
            sel.addRange(tempRange);  
            //obj.focus();
        }
    }
</script>
<a href="http://bbs.csdn.net/topics/390385849?page=1#post-394184151" target='_blank'>CSDN</a> 
<a href="http://www.cnblogs.com/cskk/archive/2013/03/30/divs.html" target='_blank'>另一个</a> 
<a href="http://js8.in/467.html" target='_blank'>学习他的自定义键盘事件</a>

 <style>
	div{
        width: 100px;
        height: 100px;
        border:thin dotted green;
        overflow: auto;
    }
 </style>
<div id="txt1" contenteditable="true"></div>
<input type="button" onclick="test('txt1');" value="执行" /><br />
 
 
<div id="txt2" contenteditable="true"></div>
<input type="button" onclick="test('txt2');" value="执行" />
 
<br/>
<br/>
 
<input id="txt3" type="text"/>
<input type="button" onclick="test('txt3');" value="执行" /><br />
 
 
<input id="txt4" type="text"/>
<input type="button" onclick="test('txt4');" valqiue="执行" />